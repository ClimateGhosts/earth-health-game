(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{8312:function(e,t,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return s(5230)}])},5230:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return pages}});var n,r,o,a,l,i,c,d,m,u,h=s(5893),p=s(7294),x=s(5005),g=s(8837),_=s(1555),j=s(682),y=s(9279),N=s(4490),v=s(2749),C=s(4486),Z=s(2914),E=s(4449),f=s(4051),w=s(2599),F=s(8817),b=s(4741),O=s(1515),k=s(5386),R=s(9578),A=s(9019),D=s(5378),indicator=e=>{let{status:t}=e;return!0===t?(0,h.jsx)(R.Z,{color:"green"}):!1===t?(0,h.jsx)(A.Z,{color:"red"}):(0,h.jsx)(D.Z,{color:"orange"})},S=s(6486),I=s.n(S);let T=(0,p.createContext)({socket:void 0,serverUrl:"https://earth-health-game.appmana.com",isConnected:!1,myRoles:[]}),createSocket=e=>{let t=(0,w.io)(e);return t.url=e,t},SocketIOCommon=e=>{let{children:t,title:s}=e,[n,r]=(0,F.Z)("serverUrl","https://earth-health-game.appmana.com"),[o,a]=(0,p.useState)(()=>createSocket(n)),[l,i]=(0,p.useState)(null),[c,d]=(0,F.Z)("username","Client"),[m,u]=(0,p.useState)([]),[w,R]=(0,b.Z)(new Set([])),[A,D]=(0,p.useState)(!1),[S,G]=(0,p.useState)(""),randomRoomId=()=>Math.round(new Date().getMilliseconds()).toString(),[M,B]=(0,p.useState)(randomRoomId()),[L,P]=(0,O.Z)([]),H=L.find(e=>e.players.some(e=>e.sid===S)),U=!!H;(0,p.useEffect)(()=>(setTimeout(()=>{o.connected||i(!1)},2e3),P.clear(),o.on("connect",()=>{i(!0),console.log("Client Connected"),o.emit("list_roles",{},e=>{let{roles:t}=e;u(t)}),o.emit("list_rooms",{},e=>{let{rooms:t}=e;P.set(t)}),o.emit("info",{},e=>{console.log(e)})}),o.on("disconnect",()=>{i(!1),P.clear(),console.log("Client Disconnected")}),o.on("your_sid",e=>{let{sid:t}=e;G(t)}),o.onAny((e,t)=>{console.log(e,t)}),o.on("game_started",()=>{D(!0)}),o.on("room_changed",e=>{P.update(t=>t.room==e.room,e)}),o.on("room_created",e=>{let{room:t,owner_sid:s}=e;P.push({room:t,owner:s,in_game:!1,players:[]})}),o.on("room_deleted",e=>{let{room:t}=e;P.filter((e,s,n)=>e.room!=t)}),()=>{o.disconnect(),o.close()}),[o]),(0,k.Z)(()=>{n!==o.url&&(o.connected&&o.disconnect(),o.close(),i(null),a(createSocket(n)))},1e3,[n]),(0,k.Z)(()=>{(null==o?void 0:o.connected)&&o.emit("set_roles",{roles:[...w]})},500,[w]),(0,k.Z)(()=>{c&&(null==o?void 0:o.connected)&&o.emit("set_name",{name:c})},500,[c]);let[W,z]=(0,p.useState)(""),[K,J]=(0,p.useState)("");return(0,h.jsxs)(h.Fragment,{children:[A||(0,h.jsxs)(j.Z,{children:[s&&(0,h.jsx)("h1",{className:"text-center m-2",children:s}),(0,h.jsxs)(f.Z,{className:"align-items-center m-2 g-3 justify-content-center",children:[(0,h.jsxs)(_.Z,{md:4,children:[(0,h.jsx)(Z.Z.Label,{children:"Server URL"}),(0,h.jsxs)("div",{className:"position-relative",children:[(0,h.jsx)(Z.Z.Control,{type:"text",placeholder:"Enter server URL",value:n,onChange:e=>r(e.target.value)}),(0,h.jsx)("div",{className:"end-0 position-absolute absolute-centered-y me-2",children:(0,h.jsx)(indicator,{status:(null==o?void 0:o.url)===n?l:null})})]})]}),(0,h.jsxs)(_.Z,{md:2,children:[(0,h.jsx)(Z.Z.Label,{children:"Username"}),(0,h.jsx)(Z.Z.Control,{type:"text",placeholder:"Enter username",value:c,onChange:e=>d(e.target.value)})]})]}),(0,h.jsx)("h3",{className:"text-center my-3",children:"Rooms"}),(0,h.jsxs)(f.Z,{className:"g-3 justify-content-center",children:[L.map(e=>{let t=e.players.some(e=>e.sid===S),s=e.owner===S;return(0,h.jsx)(_.Z,{md:4,children:(0,h.jsxs)(g.Z,{className:"text-center p-3 d-flex flex-column h-100 shadow-sm justify-content-between",children:[(0,h.jsx)("h5",{children:e.room}),e.players.map(e=>(0,h.jsxs)("div",{className:"d-flex justify-content-center align-items-center my-2",children:[e.name,e.sid===S?(0,h.jsxs)(y.Z,{autoClose:"outside",className:"ms-2",children:[(0,h.jsx)(C.Z,{size:"sm",className:"text-wrap",children:[...w].sort().map(e=>m[e].name).join(", ")||"No Roles"}),(0,h.jsx)(v.Z,{className:"py-0",children:m.map((e,t)=>(0,h.jsxs)(N.Z,{active:R.has(t),className:"my-2 rounded-2",onClick:()=>R.has(t)?R.remove(t):R.add(t),children:[e.name," (min ",e.min,", max ",e.max,")"]},t))})]}):(0,h.jsxs)(h.Fragment,{children:[" ","(",e.roles.sort().map(e=>m[e].name).join(", ")||"No Roles",")"]})]},e.name)),!t&&(0,h.jsx)(x.Z,{size:"sm",className:"w-50 mt-3 mx-auto",variant:"primary",onClick:()=>{o.emit("join_room",{room:e.room,username:c||null}),o.emit("set_roles",{roles:[...w]})},disabled:e.in_game,children:e.in_game?"In Game":"Join"}),t&&(0,h.jsx)(x.Z,{size:"sm",className:"w-50 mt-3 mx-auto",variant:"danger",onClick:()=>o.emit("leave_room",{}),children:"Leave"}),s&&t&&(0,h.jsx)(x.Z,{size:"sm",className:"w-50 mt-3 mx-auto",variant:"success",onClick:()=>{o.emit("set_roles",{roles:[...w]}),o.emit("start_game",{args:{players:I().chain(e.players).flatMap(e=>e.roles).uniq().value().length}},function(){let{error:e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e&&(z(e.type),J(e.message||""))})},children:"Start Game"}),0===e.players.length&&(0,h.jsx)(x.Z,{size:"sm",className:"w-50 mt-3 mx-auto",variant:"danger",onClick:()=>o.emit("delete_room",{room:e.room}),children:"Delete"})]})},e.room)}),!U&&(0,h.jsx)(_.Z,{md:4,className:"text-center",children:(0,h.jsxs)("div",{className:"text-center p-3 d-flex flex-column h-100 justify-content-between",children:[(0,h.jsx)(Z.Z.Label,{children:"Room ID"}),(0,h.jsx)(Z.Z.Control,{className:"w-25 mx-auto mb-3 text-center",type:"text",placeholder:"Room ID",value:M,onChange:e=>B(e.target.value)}),(0,h.jsx)(x.Z,{className:"w-50 mx-auto",size:"sm",variant:"primary",onClick:()=>{o.emit("create_room",{room:M}),o.emit("join_room",{room:M,username:c||"Client"}),B(randomRoomId())},disabled:!0!==l||U,children:"Create"})]})})]})]}),(0,h.jsx)(T.Provider,{value:{socket:o,serverUrl:n,isConnected:l,roleInfo:m,currentRoom:H,myRoles:[...w]},children:t}),(0,h.jsxs)(E.Z,{show:!!K,onHide:()=>J(""),children:[(0,h.jsx)(E.Z.Header,{closeButton:!0,children:(0,h.jsx)(E.Z.Title,{children:W||"Error"})}),(0,h.jsx)(E.Z.Body,{children:(0,h.jsx)("p",{children:K})})]})]})};(n=i||(i={})).OCEAN="Ocean",n.MOUNTAIN="Mountain",n.PLAINS="Plains",n.WOODS="Woods",n.MESA="Mesa";let G={Ocean:"\uD83C\uDF0A",Mountain:"⛰️",Plains:"\uD83C\uDF3E",Woods:"\uD83C\uDF32",Mesa:"\uD83C\uDFDC️"};(r=c||(c={})).EARTHQUAKE="Earthquake",r.FIRE="Fire",r.FLOOD="Flood",r.WINDSTORM="Windstorm",(o=d||(d={}))[o.UP=0]="UP",o[o.DOWN=1]="DOWN",o[o.FOREIGN_AID=2]="FOREIGN_AID",o[o.CLIMATE_GHOST=3]="CLIMATE_GHOST",o[o.END_TURN=4]="END_TURN",o[o.RENAME_REGION=5]="RENAME_REGION";var M=s(7769),B=s(3967),L=s.n(B),selected_region_panel=e=>{let{className:t}=e,{socket:s,myRoles:n,roleInfo:r,isConnected:o,serverUrl:a,currentRoom:l}=(0,p.useContext)(T),{state:i,namesByRole:c,currentRegion:m,selectedRegion:u,currentPlayer:j,myTurn:y,operators:N,nameForPlayer:v}=(0,p.useContext)(Y);return m&&(0,h.jsxs)(g.Z,{className:L()("shadow-lg w-25 p-3 pointer-events-auto",t),children:[(0,h.jsxs)("h2",{className:"text-center",children:[m.name,n.includes(m.current_player)&&(0,h.jsx)(x.Z,{size:"sm",variant:"outline-primary",className:"border-0",onClick:()=>{let e=prompt("Choose a new name for this region",m.name);e&&e!==m.name&&s.emit("operator_chosen",{op_no:d.RENAME_REGION,params:[m.id,e]})},children:(0,h.jsx)(M.Z,{})})]}),(0,h.jsxs)(f.Z,{className:"fs-5 g-2 row-cols-2",children:[m.health>0&&(0,h.jsxs)(_.Z,{children:["Owned by ",v(m.current_player)]}),(0,h.jsxs)(_.Z,{children:["Region Type: ",m.region_type._value_,G[m.region_type._value_]]}),(0,h.jsxs)(_.Z,{children:["Health:"," ",m.health>0?"".concat(m.health,"❤️"):"\uD83D\uDC80"]})]}),(0,h.jsx)("h3",{className:"text-center",children:"Actions"}),(0,h.jsxs)(f.Z,{className:"row-cols-1 g-2 justify-content-center",children:[!y&&(0,h.jsx)(_.Z,{children:"Not your turn."}),m.id in j.current_actions?(0,h.jsx)(_.Z,{children:"Already taken action this turn."}):(0,h.jsx)(h.Fragment,{children:N.filter(e=>{switch(e.op_no){case d.UP:case d.DOWN:return m.current_player==i.current_player;case d.FOREIGN_AID:return m.current_player!==i.current_player;default:return!1}}).map(e=>(0,h.jsx)(_.Z,{xs:"auto",children:(0,h.jsx)(x.Z,{onClick:()=>s.emit("operator_chosen",{op_no:e.op_no,params:[u]}),children:e.name})}))})]})]})},end_turn_panel=e=>{let{className:t}=e,{socket:s}=(0,p.useContext)(T),{state:n,currentPlayer:r,operators:o,nameForPlayer:a,myTurn:l}=(0,p.useContext)(Y),i=o.find(e=>e.op_no===d.CLIMATE_GHOST);return(0,h.jsx)(g.Z,{className:L()("shadow-lg w-auto p-3",t),children:(0,h.jsx)("h3",{className:"text-center pointer-events-auto",children:o.length>0?(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)("div",{children:"It is your turn"}),i&&(0,h.jsx)(x.Z,{className:"mt-3 w-100",variant:"warning",onClick:()=>s.emit("operator_chosen",{op_no:d.CLIMATE_GHOST,params:null}),children:i.name}),(0,h.jsx)(x.Z,{className:"mt-3 w-100",variant:n.world.regions.some(e=>e.current_player===n.current_player&&!(e.id in r.current_actions))?"primary":"success",onClick:()=>s.emit("operator_chosen",{op_no:d.END_TURN,params:null}),children:"End Turn"})]}):"".concat(a(n.current_player)," is acting")})})};(a=m||(m={})).RED="#C0392B",a.GREEN="#27AE60",a.YELLOW="#F1C40F",a.BLUE="#2980B9",a.MAGENTA="#8E44AD",a.CYAN="#17C4C4",a.WHITE="#ECF0F1",a.ORANGE="#E67E22",a.PURPLE="#9B59B6";let P={[i.MESA]:"#C0392B",[i.MOUNTAIN]:"#17C4C4",[i.OCEAN]:"#2980B9",[i.PLAINS]:"#F1C40F",[i.WOODS]:"#27AE60"};c.EARTHQUAKE,c.FIRE,c.FLOOD,c.WINDSTORM;let H={91:"#C0392B",92:"#27AE60",93:"#F1C40F",94:"#2980B9",95:"#8E44AD",96:"#17C4C4",97:"#ECF0F1",33:"#E67E22",105:"#9B59B6"},ansiToHtml=e=>(e=(e=e.replace(/\x1b\[(\d+)m/g,(e,t)=>{let s=H[t];return s?'<span style="color:'.concat(s,'">'):"0"===t?"</span>":e})).replace(/\n/g,"<br><br>"),"<div>".concat(e,"</div>")),U=["#C0392B","#27AE60","#8E44AD","#E67E22","#17C4C4"];var state_info_panel=e=>{let{className:t}=e,{myRoles:s}=(0,p.useContext)(T),{state:n,nameForPlayer:r}=(0,p.useContext)(Y);return(0,h.jsxs)(g.Z,{className:L()("shadow-lg w-25 p-3 overflow-y-auto pointer-events-auto",t),style:{maxHeight:"80vh"},children:[(0,h.jsx)("h3",{className:"text-center",children:"State Info"}),(0,h.jsxs)(f.Z,{className:"row-cols-1 g-2",children:[(0,h.jsxs)(_.Z,{children:["Time: ",displayTime(n.time)]}),(0,h.jsxs)(_.Z,{children:["Climate Badness ",n.global_badness]})]}),n.players.some(e=>s.includes(e.player_id)&&e.regions_owned<=0)&&(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)("h3",{className:"text-center my-3",children:"Next Possible Disasters"}),(0,h.jsx)(f.Z,{className:"row-cols-1 g-3",children:n.disaster_buffer.map((e,t)=>(0,h.jsxs)(_.Z,{children:[e.disaster._value_," in ",e.region," (",e.damage," damage)"]},t))})]}),(0,h.jsx)("h3",{className:"text-center my-3",children:"Player Info"}),(0,h.jsx)(f.Z,{className:"row-cols-1 g-3",children:n.players.map((e,t)=>(0,h.jsx)(_.Z,{children:(0,h.jsxs)(f.Z,{className:"row-cols-1 p-2 g-2 rounded-2",style:{border:".5rem ".concat(U[t]," solid")},children:[(0,h.jsxs)(_.Z,{children:[r(t),": ",displayMoney(e.money)]}),Object.values(n.world.regions).filter(t=>t.current_player===e.player_id).map((e,t)=>(0,h.jsxs)(_.Z,{className:"ms-4",children:[e.name," (",e.region_type._value_,G[e.region_type._value_],", ",e.health,"❤️)"]},t))]})},t))})]})};(l=u||(u={})).ByOwner="By Owner",l.ByRegionType="By Region Type",l.ByHealth="By Health";var visual_options_panel=e=>{let{className:t}=e,{options:{colorMode:s,setColorMode:n}}=(0,p.useContext)(Y);return(0,h.jsx)(g.Z,{className:L()("position-absolute shadow-lg w-auto p-3",t),children:(0,h.jsx)(f.Z,{className:"row-cols-1 g-3 pointer-events-auto",children:(0,h.jsxs)(_.Z,{className:"d-flex flex-row align-items-center",children:[(0,h.jsx)("span",{className:"me-3",children:"Region Color Mode"}),(0,h.jsxs)(y.Z,{children:[(0,h.jsx)(C.Z,{size:"sm",children:s}),(0,h.jsx)(v.Z,{children:Object.values(u).map(e=>(0,h.jsx)(N.Z,{active:e===s,onClick:()=>n(e),children:e},e))})]})]})})})},transitions_model=e=>{let{text:t,title:s,onHide:n}=e;return(0,h.jsxs)(E.Z,{size:"lg",show:!!t,onHide:n,backdrop:"static",className:"user-select-none",children:[(0,h.jsx)(E.Z.Header,{closeButton:!0,children:(0,h.jsx)(E.Z.Title,{children:s})}),(0,h.jsx)(E.Z.Body,{children:(0,h.jsx)("p",{dangerouslySetInnerHTML:{__html:ansiToHtml(t||"")}})})]})},W=s(7172),z=s(6409),K=s(5929),J=s(9591),region_geography=e=>{let{geo:t}=e,{state:s,selectedRegion:n,setSelectedRegion:r,myTurn:o,currentPlayer:a,options:{colorMode:l}}=(0,p.useContext)(Y),i=regionForGeo(t,s),c="#666";if(i.health>0)switch(l){case u.ByRegionType:c=P[i.region_type._value_];break;case u.ByOwner:c=U[i.current_player];break;case u.ByHealth:c=(0,K.Z)(m.RED,m.GREEN)(i.health/10)}let d=i.id===n,x=o&&i.current_player===s.current_player&&!(i.id in a.current_actions)&&i.health>0;return(0,h.jsx)(W.Geography,{geography:t,fill:c,style:{default:{stroke:d?"#FFF":x?"#0F0":"#666",strokeWidth:1,outline:"none"},hover:{stroke:d?"#FFF":x?"#0F0":"#666",strokeWidth:1,fill:(0,J.ZP)(c,"#FFF")(.2),outline:"none"}},onClick:e=>{e.stopPropagation(),r(d?-1:i.id)}})},q=s(8540),region_marker=e=>{let{geo:t}=e,{state:s}=(0,p.useContext)(Y),n=regionForGeo(t,s),r=(0,q.Z)(t);return(0,h.jsxs)(W.Marker,{coordinates:r,className:"pointer-events-none",children:[(0,h.jsx)("text",{textAnchor:"middle",y:-2,style:{fontFamily:"system-ui",fontWeight:"bold",fontSize:5,fill:"#000"},stroke:"#FFF",strokeWidth:.2,children:n.name}),(0,h.jsx)("text",{textAnchor:"middle",y:4,style:{fontFamily:"system-ui",fontWeight:"bold",fontSize:5,fill:"#000"},stroke:"#FFF",strokeWidth:.2,children:n.health>0?(0,h.jsxs)(h.Fragment,{children:[n.health,"❤️",G[n.region_type._value_]]}):(0,h.jsx)(h.Fragment,{children:"\uD83D\uDC80"})})]})};let regionForGeo=(e,t)=>{let s=parseInt(e.rsmKey.replace("geo-",""));return t.world.regions[s]};var game_map=()=>{let e=(0,z.g)()||1e3,{state:t,currentPlayer:s,selectedRegion:n,setSelectedRegion:r}=(0,p.useContext)(Y),reorderGeos=e=>I().chain(e).filter((e,s)=>s<t.world.region_count).orderBy([e=>regionForGeo(e,t).id===n,e=>regionForGeo(e,t).current_player===t.current_player,e=>!(regionForGeo(e,t).id in s.current_actions)]).value();return(0,h.jsx)(W.ComposableMap,{height:1e3,width:2e3,style:{background:P[i.OCEAN],height:e,width:"100%"},onClick:()=>r(-1),children:(0,h.jsx)(W.ZoomableGroup,{center:[0,0],zoom:4,minZoom:3,children:(0,h.jsx)(W.Geographies,{geography:"/earth-health-game/map.geo.json",children:e=>{let{geographies:t}=e,s=reorderGeos(t);return s.map(e=>(0,h.jsx)(region_geography,{geo:e},e.rsmKey+"Geography")).concat(s.map(e=>(0,h.jsx)(region_marker,{geo:e},e.rsmKey+"Marker")))}})})})};let logForOperator=(e,t,s)=>{let n="".concat(t," has ");switch(e.op_no){case d.UP:case d.DOWN:case d.FOREIGN_AID:case d.RENAME_REGION:let r=s.world.regions[e.params[0]];switch(e.op_no){case d.UP:n+="exploited ".concat(r.name);break;case d.DOWN:n+="healed ".concat(r.name);break;case d.FOREIGN_AID:n+="sent foreign aid to ".concat(r.name);break;case d.RENAME_REGION:n+="renamed ".concat(r.name," to ").concat(e.params[1])}break;case d.CLIMATE_GHOST:n+="has tipped the scales from beyond the grave";break;case d.END_TURN:n+="ended their turn"}return n};var Q=s(5472),X=s.n(Q),game_log_panel=e=>{let{className:t,gameLogs:s}=e,[n,r]=(0,p.useState)(!1);return(0,h.jsxs)("div",{className:L()("w-50 h-25 text-center",t),children:[n&&(0,h.jsx)(g.Z,{className:"shadow-lg p-3 mb-5 h-100 overflow-y-scroll w-100 bottom-0 position-absolute d-flex flex-column-reverse pointer-events-auto",children:(0,h.jsx)("table",{children:X()(s,e=>e.time).map((e,t)=>{let{time:s,message:n}=e;return(0,h.jsxs)("tr",{children:[(0,h.jsx)("td",{children:displayTime(s)}),(0,h.jsx)("td",{children:n})]},t)})})}),(0,h.jsx)(x.Z,{variant:"outline-dark",className:"border-0 fs-4 pointer-events-auto bottom-0 position-absolute",onClick:()=>r(!n),children:"Logs"})]})};let displayTime=e=>2050+10*e,displayMoney=e=>"$".concat(e,"M"),Y=(0,p.createContext)(void 0);var game=()=>{let{socket:e,currentRoom:t,roleInfo:s,myRoles:n}=(0,p.useContext)(T),[r,o]=(0,p.useState)(void 0),[a,l]=(0,p.useState)([]),[i,c]=(0,p.useState)(!1),[d,m]=(0,p.useState)(-1),[x,g]=(0,O.Z)([]),[_,j]=(0,O.Z)([]),[y,N]=(0,p.useState)(void 0),[v,C]=(0,p.useState)(u.ByOwner),Z=(0,p.useMemo)(()=>t&&s?s.map((e,s)=>{var n;return(null===(n=t.players.find(e=>e.roles.includes(s)))||void 0===n?void 0:n.name)||"Unknown"}):[],[t,s]),E=d<0||!r?void 0:r.world.regions[d],f=null==r?void 0:r.players[null==r?void 0:r.current_player],w=!!r&&n.includes(r.current_player),nameForPlayer=e=>{var t;return"".concat(null==s?void 0:null===(t=s[e])||void 0===t?void 0:t.name," (").concat(Z[e],")")};return(0,p.useEffect)(()=>{e&&(e.on("game_started",e=>{e.state&&(o(JSON.parse(e.state)),_.push({time:0,message:"The game has started!"}))}),e.on("operators_available",e=>{l(e.operators)}),e.on("operator_applied",e=>{e.state&&o(t=>{var s,n,r;N({...e.operator,player:null!==(s=null==t?void 0:t.current_player)&&void 0!==s?s:0,time:null!==(n=null==t?void 0:t.time)&&void 0!==n?n:0});let o=JSON.parse(e.state);if((null==t?void 0:t.time)!==o.time){let e=[];for(let t of o.current_disasters)e.push({time:o.time,message:"".concat(t.disaster._value_," in ").concat(t.region," (").concat(t.damage," damage)")});for(let s of o.world.regions)null!==(r=s.health<=0&&(null==t?void 0:t.world.regions[s.id].health))&&void 0!==r&&r&&e.push({time:o.time,message:"".concat(s.name," was destroyed!")});j.push(...e)}return o})}),e.on("transition",e=>{let{message:t}=e;g.push(t)}),e.on("game_ended",e=>{let{message:t}=e;g.push(t),c(!0)}))},[e]),(0,p.useEffect)(()=>{y&&j.push({time:y.time,message:logForOperator(y,nameForPlayer(y.player),r)})},[y]),(0,h.jsx)("div",{className:"h-auto user-select-none",children:r&&(0,h.jsx)(Y.Provider,{value:{state:r,operators:a,namesByRole:Z,selectedRegion:d,setSelectedRegion:m,currentRegion:E,currentPlayer:f,myTurn:w,nameForPlayer,options:{colorMode:v,setColorMode:C}},children:(0,h.jsxs)("div",{className:"overflow-hidden position-relative d-flex",children:[(0,h.jsx)(game_map,{}),(0,h.jsxs)("div",{className:"position-absolute w-100 h-100 pointer-events-none",children:[(0,h.jsx)(state_info_panel,{className:"position-absolute top-0 start-0 m-4"}),(0,h.jsx)(selected_region_panel,{className:"position-absolute top-0 end-0 m-4"}),(0,h.jsx)(end_turn_panel,{className:"position-absolute bottom-0 end-0 m-4"}),(0,h.jsx)(visual_options_panel,{className:"position-absolute bottom-0 start-0 m-4"}),(0,h.jsx)(game_log_panel,{className:"position-absolute bottom-0 absolute-centered-x m-4",gameLogs:_}),(0,h.jsx)(transitions_model,{text:x.length>0?x[0]:void 0,title:i?"Game Over!":"Transition",onHide:()=>{g.removeAt(0)}})]})]})})})},pages=()=>(0,h.jsx)(h.Fragment,{children:(0,h.jsx)(SocketIOCommon,{title:"Collaborative Climate Contest",children:(0,h.jsx)(game,{})})})}},function(e){e.O(0,[662,867,774,888,179],function(){return e(e.s=8312)}),_N_E=e.O()}]);